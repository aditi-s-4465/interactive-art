(function(){var t={303:function(t,e,i){"use strict";var o=i(9242),n=i(3396);function r(t,e){const i=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(i)}var a=i(89);const s={},c=(0,a.Z)(s,[["render",r]]);var l=c,u=i(2483);const d=t=>((0,n.dD)("data-v-f92bd9b2"),t=t(),(0,n.Cn)(),t),g={class:"home"},h=d((()=>(0,n._)("div",{class:"view-button"}," View Art ",-1)));function f(t,e,i,o,r,a){const s=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",g,[(0,n.Wm)(s,{to:{name:"ArtView"}},{default:(0,n.w5)((()=>[h])),_:1})])}var p={name:"HomeView",components:{}};const m=(0,a.Z)(p,[["render",f],["__scopeId","data-v-f92bd9b2"]]);var _=m,v=i(7139);const b={class:"vl-parent"},y={class:"image-container"},w=["src"],j={class:"caption"};function k(t,e,o,r,a,s){const c=(0,n.up)("loading"),l=(0,n.up)("toggle"),u=(0,n.up)("router-link"),d=(0,n.up)("cursor");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",b,[(0,n.Wm)(c,{active:a.loading,"onUpdate:active":e[0]||(e[0]=t=>a.loading=t),"is-full-page":!0},null,8,["active"])]),(0,n._)("div",y,[(0,n.Wm)(l,{onToggle:s.change_cursor,class:"toggle-button",title:"Cursor",name:"CursorToggle",toggled:a.cursor_on},null,8,["onToggle","toggled"]),(0,n.Wm)(u,{to:{name:"home"},class:"close-button"}),(0,n._)("button",{class:"lightbox-nav nav-left",onClick:e[1]||(e[1]=(...t)=>s.left_button&&s.left_button(...t))}),(0,n._)("img",{class:"image-style",style:(0,v.j5)([a.music_started?{opacity:1}:{opacity:.6}]),ref:"art",src:i(7173)(`./${a.art_data[a.image_index].file}`),onMousemove:e[2]||(e[2]=(...t)=>s.updateNote&&s.updateNote(...t)),onMouseleave:e[3]||(e[3]=(...t)=>s.stop_music&&s.stop_music(...t)),onMouseover:e[4]||(e[4]=(...t)=>s.start_music_loop&&s.start_music_loop(...t))},null,44,w),(0,n._)("button",{class:"lightbox-nav nav-right",onClick:e[5]||(e[5]=(...t)=>s.right_button&&s.right_button(...t))}),(0,n._)("p",j,(0,v.zw)(a.art_data[a.image_index].citation),1)]),a.music_started?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"start-button",onClick:e[6]||(e[6]=(...t)=>s.start_viewing&&s.start_viewing(...t))}," Start ")),a.cursor_on?((0,n.wg)(),(0,n.j4)(d,{key:1,color:a.cursor_color},null,8,["color"])):(0,n.kq)("",!0)])}var x=i(5513),S=i.n(x),C=i(4311),O=i(1657);function T(t,e,i,o,r,a){return(0,n.wg)(),(0,n.iD)("div",{class:"cursor-circle",style:(0,v.j5)({left:r.x+"px",top:r.y+"px","background-color":"rgba("+i.color.toString()+","+r.transparency+")"})},null,4)}var A={props:{color:{type:Array,default:[0,0,0]}},data(){return{x:0,y:0,transparency:"0.6"}},mounted(){document.addEventListener("mousemove",this.updatePosition)},beforeDestroy(){document.removeEventListener("mousemove",this.updatePosition)},methods:{updatePosition(t){this.x=t.clientX-30,this.y=t.clientY-30}}};const D=(0,a.Z)(A,[["render",T]]);var $=D;const E=["id","disabled","name"],L=["aria-checked","aria-disabled","aria-labelledby","aria-readonly"],I=["id","for"];function z(t,e,i,r,a,s){return(0,n.wg)(),(0,n.iD)("section",{class:(0,v.C_)([{"m-toggle--is-dark":i.darkTheme,"m-toggle--is-disabled":i.disabled},"m-toggle"])},[(0,n.wy)((0,n._)("input",{id:s.id,"onUpdate:modelValue":e[0]||(e[0]=t=>a.toggleState=t),disabled:i.disabled,name:i.name,class:"m-toggle__input",type:"checkbox"},null,8,E),[[o.e8,a.toggleState]]),(0,n._)("span",{"aria-checked":a.toggleState,"aria-disabled":i.disabled,"aria-labelledby":`${s.id}-label`,"aria-readonly":i.disabled,class:(0,v.C_)(["m-toggle__content",{"m-toggle__content--active":a.toggleState}]),role:"checkbox",onClick:e[1]||(e[1]=(...t)=>s.toggle&&s.toggle(...t))},null,10,L),(0,n._)("label",{id:`${s.id}-label`,for:s.id,class:"m-toggle__label"},(0,v.zw)(i.title),9,I)],2)}const P={name:"VueToggle",props:{activeColor:{type:String,default:"#9FD6AE"},darkTheme:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},fontSize:{type:String,default:"16px"},fontWeight:{type:String,default:"normal"},name:{type:String,required:!0},title:{type:String,required:!0},toggled:{type:Boolean,default:!1}},data(){return{toggleState:this.toggled}},methods:{toggle(){this.disabled||(this.toggleState=!this.toggleState,this.$emit("toggle",this.toggleState))}},computed:{id(){return this.name.replace(/ /g,"").toLowerCase()}}},N=()=>{(0,o.sj)((t=>({90187624:t.fontWeight,"1fe287f7":t.fontSize,"53571b96":t.activeColor})))},W=P.setup;P.setup=W?(t,e)=>(N(),W(t,e)):N;var M=P;const q=(0,a.Z)(M,[["render",z],["__scopeId","data-v-91790090"]]);var V=q;const Z=i(1089),B="https://backend.interactiveart.web.illinois.edu";var F={name:"ArtView",components:{Loading:S(),cursor:$,toggle:V},data(){return{music_data:void 0,loading:!1,music_started:!1,painting_hover:!1,bpm:60,current_note:void 0,music_interval:void 0,resize_delay:500,timeoutId:0,base_url:"",art_data:Z,image_index:0,cursor_color:[0,0,0],cursor_on:!0}},mounted(){window.addEventListener("resize",(()=>{this.image_height=this.$refs.art.clientHeight,this.image_width=this.$refs.art.clientWidth,this.music_started&&(this.loading=!0,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.note_resize,this.resize_delay))})),location.toString().includes("localhost")||(this.base_url=B)},destroyed(){window.removeEventListener("resize",this.myEventHandler)},methods:{async note_resize(){await this.load_notes(),this.loading=!1},async load_notes(){this.image_height=this.$refs.art.clientHeight,this.image_width=this.$refs.art.clientWidth;var t=this.art_data[this.image_index].file,e=`${this.base_url}/coords/${t}/${this.image_width}/${this.image_height}`;console.log(`getting notes from backend at ${e}`);const i=await C.Z.get(e);this.music_data=i.data,this.current_note=this.music_data.sections[0].note,this.bpm=this.music_data.bpm,console.log(`bpm set to: ${this.bpm}`),console.log("notes loaded from backend")},updateNote(t){if(this.music_started&&!this.loading){var e=t.offsetX,i=t.offsetY,o=this.get_note(e,i);this.current_note=o.note,this.cursor_color=o.color}},play_current_note(){let t=this.current_note;this.synth.triggerAttack(t),console.log(`note playing: ${t}`)},start_music_loop(){!this.music_started||this.loading||this.painting_hover||(this.play_current_note(),this.music_interval=setInterval(this.play_current_note,this.bpm_to_ms(this.bpm)),this.painting_hover=!0)},stop_music(){clearInterval(this.music_interval),this.painting_hover=!1},async start_viewing(){this.loading=!0,await this.load_notes(),this.synth=await new O.Z({minify:!0,onload:()=>{console.log("audio samples loaded"),this.loading=!1,this.music_started=!0,this.start_music_loop()}}).toDestination()},get_note(t,e){var i=function(i){var o=i.area[0],n=i.area[1],r=i.area[2],a=i.area[3];return t>=o&&e>=n&&t<=r&&e<=a},o=this.music_data.sections.filter(i);return o[0]},bpm_to_ms(t){return Math.round(60/t*1e3)},calc_index(t,e){return(t%e+e)%e},left_button(){var t=this.calc_index(this.image_index-1,this.art_data.length);this.image_index=t,this.music_started=!1},right_button(){var t=this.calc_index(this.image_index+1,this.art_data.length);this.image_index=t,this.music_started=!1},change_cursor(){this.cursor_on=!this.cursor_on}}};const H=(0,a.Z)(F,[["render",k],["__scopeId","data-v-3a3e01b5"]]);var J=H;const U=[{path:"/",name:"home",component:_},{path:"/about",name:"about",component:()=>i.e(443).then(i.bind(i,2233))},{path:"/art-view",name:"ArtView",component:J}],G=(0,u.p7)({history:(0,u.PO)("/"),routes:U});var R=G;(0,o.ri)(l).use(R).mount("#app")},7173:function(t,e,i){var o={"./art_data":1089,"./art_data.json":1089,"./circular-forms.jpg":2684,"./homage-to.jpg":2818,"./icons/exit.svg":3578,"./icons/left.svg":7042,"./icons/right.svg":3756,"./joy.jpg":4032,"./objects.jpg":3690,"./park.jpg":7078,"./test-art.jpg":5456};function n(t){var e=r(t);return i(e)}function r(t){if(!i.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}n.keys=function(){return Object.keys(o)},n.resolve=r,t.exports=n,n.id=7173},3578:function(t,e,i){"use strict";t.exports=i.p+"img/exit.5a6edfb9.svg"},7042:function(t,e,i){"use strict";t.exports=i.p+"img/left.c19300db.svg"},3756:function(t,e,i){"use strict";t.exports=i.p+"img/right.b6670b92.svg"},2684:function(t,e,i){"use strict";t.exports=i.p+"img/circular-forms.f18e24d6.jpg"},2818:function(t,e,i){"use strict";t.exports=i.p+"img/homage-to.a59f1ee3.jpg"},4032:function(t,e,i){"use strict";t.exports=i.p+"img/joy.7223429a.jpg"},3690:function(t,e,i){"use strict";t.exports=i.p+"img/objects.331dbfb3.jpg"},7078:function(t,e,i){"use strict";t.exports=i.p+"img/park.898a205c.jpg"},5456:function(t,e,i){"use strict";t.exports=i.p+"img/test-art.99bb4658.jpg"},1089:function(t){"use strict";t.exports=JSON.parse('[{"file":"joy.jpg","title":"The Joy of Life","artist":"Robert Delaunay","date":"1930","citation":"The Joy of Life"},{"file":"park.jpg","title":"A Sunday Afternoon on the Island of La Grande Jatte","artist":"Georges Seurat","date":"1886","citation":"A Sunday Afternoon on the Island of La Grande Jatte"},{"file":"test-art.jpg","title":"Squares with Concentric Circles","artist":"Wassily Kandinsky","date":"1913","citation":"Squares with Concentric Circles"},{"file":"circular-forms.jpg","title":"Circular Forms","artist":"Robert Delaunay","date":"1930","citation":"Circular Forms"},{"file":"homage-to.jpg","title":"Homage to Bleriot","artist":"Robert Delaunay","date":"1914","citation":"Homage to Bleriot"},{"file":"objects.jpg","title":"Site Inhabited by Objects","artist":"Jean Dubuffet","date":"1965","citation":"Site Inhabited by Objects"}]')}},e={};function i(o){var n=e[o];if(void 0!==n)return n.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,i),r.exports}i.m=t,function(){var t=[];i.O=function(e,o,n,r){if(!o){var a=1/0;for(u=0;u<t.length;u++){o=t[u][0],n=t[u][1],r=t[u][2];for(var s=!0,c=0;c<o.length;c++)(!1&r||a>=r)&&Object.keys(i.O).every((function(t){return i.O[t](o[c])}))?o.splice(c--,1):(s=!1,r<a&&(a=r));if(s){t.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[o,n,r]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,o){return i.f[o](t,e),e}),[]))}}(),function(){i.u=function(t){return"js/about.91c6fcd6.js"}}(),function(){i.miniCssF=function(t){}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="interactive-art-ui:";i.l=function(o,n,r,a){if(t[o])t[o].push(n);else{var s,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==e+r){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",e+r),s.src=o),t[o]=[n];var g=function(e,i){s.onerror=s.onload=null,clearTimeout(h);var n=t[o];if(delete t[o],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((function(t){return t(i)})),e)return e(i)},h=setTimeout(g.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=g.bind(null,s.onerror),s.onload=g.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.p="/"}(),function(){var t={143:0};i.f.j=function(e,o){var n=i.o(t,e)?t[e]:void 0;if(0!==n)if(n)o.push(n[2]);else{var r=new Promise((function(i,o){n=t[e]=[i,o]}));o.push(n[2]=r);var a=i.p+i.u(e),s=new Error,c=function(o){if(i.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,n[1](s)}};i.l(a,c,"chunk-"+e,e)}},i.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,r,a=o[0],s=o[1],c=o[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(c)var u=c(i)}for(e&&e(o);l<a.length;l++)r=a[l],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(u)},o=self["webpackChunkinteractive_art_ui"]=self["webpackChunkinteractive_art_ui"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=i.O(void 0,[998],(function(){return i(303)}));o=i.O(o)})();
//# sourceMappingURL=app.f7e325b8.js.map