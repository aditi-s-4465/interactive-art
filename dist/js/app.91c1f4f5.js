(function(){var t={9694:function(t,e,n){"use strict";var i=n(9242),o=n(3396);function r(t,e){const n=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(n)}var a=n(89);const s={},u=(0,a.Z)(s,[["render",r]]);var c=u,d=n(2483);const l=t=>((0,o.dD)("data-v-f92bd9b2"),t=t(),(0,o.Cn)(),t),f={class:"home"},h=l((()=>(0,o._)("div",{class:"view-button"}," View Art ",-1)));function g(t,e,n,i,r,a){const s=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",f,[(0,o.Wm)(s,{to:{name:"ArtView"}},{default:(0,o.w5)((()=>[h])),_:1})])}var m={name:"HomeView",components:{}};const p=(0,a.Z)(m,[["render",g],["__scopeId","data-v-f92bd9b2"]]);var v=p,_=n(7139);const b={class:"vl-parent"},y={class:"image-container"},w=["src"],k={class:"caption"};function x(t,e,i,r,a,s){const u=(0,o.up)("loading"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",b,[(0,o.Wm)(u,{active:a.loading,"onUpdate:active":e[0]||(e[0]=t=>a.loading=t),"is-full-page":!0},null,8,["active"])]),(0,o._)("div",y,[(0,o.Wm)(c,{to:{name:"home"},class:"close-button"}),(0,o._)("button",{class:"lightbox-nav nav-left",onClick:e[1]||(e[1]=(...t)=>s.left_button&&s.left_button(...t))}),(0,o._)("img",{class:"image-style",style:(0,_.j5)([a.music_started?{opacity:1}:{opacity:.6}]),ref:"art",src:n(7173)(`./${a.art_data[a.image_index].file}`),onMousemove:e[2]||(e[2]=(...t)=>s.updateNote&&s.updateNote(...t))},null,44,w),(0,o._)("button",{class:"lightbox-nav nav-right",onClick:e[3]||(e[3]=(...t)=>s.right_button&&s.right_button(...t))}),(0,o._)("p",k,(0,_.zw)(a.art_data[a.image_index].citation),1)]),a.music_started?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("button",{key:0,class:"start-button",onClick:e[4]||(e[4]=(...t)=>s.start&&s.start(...t))}," Start "))])}var j=n(5513),O=n.n(j),C=n(4311),A=n(1657);const S=n(1089),$="https://backend.interactiveart.web.illinois.edu";var T={name:"ArtView",components:{Loading:O()},data(){return{image_info:void 0,loading:!1,music_started:!1,time_delay:800,resize_delay:500,timeoutId:0,base_url:"",art_data:S,image_index:0}},mounted(){window.addEventListener("resize",(()=>{this.image_height=this.$refs.art.clientHeight,this.image_width=this.$refs.art.clientWidth,this.music_started&&(this.loading=!0,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.note_resize,this.resize_delay))})),location.toString().includes("localhost")||(this.base_url=$)},destroyed(){window.removeEventListener("resize",this.myEventHandler)},methods:{async note_resize(){await this.load_notes(),this.loading=!1},async load_notes(){this.image_height=this.$refs.art.clientHeight,this.image_width=this.$refs.art.clientWidth;var t=this.art_data[this.image_index].file,e=`${this.base_url}/coords/${t}/${this.image_width}/${this.image_height}`;console.log(`getting notes from backend at ${e}`);const n=await C.Z.get(e);this.image_info=n.data,console.log("notes loaded from backend")},updateNote(t){if(this.music_started&&!this.loading&&(!this.start_time||new Date-this.start_time>this.time_delay)){var e=t.offsetX,n=t.offsetY,i=this.get_note(e,n);this.synth.triggerAttack(i),console.log(`note playing: ${i} for x: ${e}, y: ${n}`),this.start_time=new Date}},async start(){this.loading=!0,await this.load_notes(),this.synth=await new A.Z({minify:!0,onload:()=>{console.log("audio samples loaded"),this.loading=!1,this.music_started=!0}}).toDestination()},get_note(t,e){var n=function(n){var i=n.area[0],o=n.area[1],r=n.area[2],a=n.area[3];return t>=i&&e>=o&&t<=r&&e<=a},i=this.image_info.filter(n);return i[0].note},calc_index(t,e){return(t%e+e)%e},left_button(){var t=this.calc_index(this.image_index-1,this.art_data.length);this.image_index=t,this.music_started=!1},right_button(){var t=this.calc_index(this.image_index+1,this.art_data.length);this.image_index=t,this.music_started=!1}}};const E=(0,a.Z)(T,[["render",x],["__scopeId","data-v-75a37883"]]);var D=E;const L=[{path:"/",name:"home",component:v},{path:"/about",name:"about",component:()=>n.e(443).then(n.bind(n,7381))},{path:"/art-view",name:"ArtView",component:D}],N=(0,d.p7)({history:(0,d.PO)("/"),routes:L});var z=N;(0,i.ri)(c).use(z).mount("#app")},7173:function(t,e,n){var i={"./art_data":1089,"./art_data.json":1089,"./icons/exit.svg":3578,"./icons/left.svg":7042,"./icons/right.svg":3756,"./joy.jpg":4032,"./park.jpg":7078,"./test-art.jpg":5456};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id=7173},3578:function(t,e,n){"use strict";t.exports=n.p+"img/exit.5a6edfb9.svg"},7042:function(t,e,n){"use strict";t.exports=n.p+"img/left.c19300db.svg"},3756:function(t,e,n){"use strict";t.exports=n.p+"img/right.b6670b92.svg"},4032:function(t,e,n){"use strict";t.exports=n.p+"img/joy.7223429a.jpg"},7078:function(t,e,n){"use strict";t.exports=n.p+"img/park.898a205c.jpg"},5456:function(t,e,n){"use strict";t.exports=n.p+"img/test-art.99bb4658.jpg"},1089:function(t){"use strict";t.exports=JSON.parse('[{"file":"joy.jpg","title":"The Joy of Life","artist":"Robert Delaunay","date":"1930","citation":"The Joy of Life"},{"file":"park.jpg","title":"A Sunday Afternoon on the Island of La Grande Jatte","artist":"Georges Seurat","date":"1886","citation":"A Sunday Afternoon on the Island of La Grande Jatte"},{"file":"test-art.jpg","title":"Squares with Concentric Circles","artist":"Wassily Kandinsky","date":"1913","citation":"Squares with Concentric Circles"}]')}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,i,o,r){if(!i){var a=1/0;for(d=0;d<t.length;d++){i=t[d][0],o=t[d][1],r=t[d][2];for(var s=!0,u=0;u<i.length;u++)(!1&r||a>=r)&&Object.keys(n.O).every((function(t){return n.O[t](i[u])}))?i.splice(u--,1):(s=!1,r<a&&(a=r));if(s){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[i,o,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,i){return n.f[i](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/about.3006b34b.js"}}(),function(){n.miniCssF=function(t){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="interactive-art-ui:";n.l=function(i,o,r,a){if(t[i])t[i].push(o);else{var s,u;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var l=c[d];if(l.getAttribute("src")==i||l.getAttribute("data-webpack")==e+r){s=l;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+r),s.src=i),t[i]=[o];var f=function(e,n){s.onerror=s.onload=null,clearTimeout(h);var o=t[i];if(delete t[i],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var t={143:0};n.f.j=function(e,i){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)i.push(o[2]);else{var r=new Promise((function(n,i){o=t[e]=[n,i]}));i.push(o[2]=r);var a=n.p+n.u(e),s=new Error,u=function(i){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var r=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,o[1](s)}};n.l(a,u,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,r,a=i[0],s=i[1],u=i[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(u)var d=u(n)}for(e&&e(i);c<a.length;c++)r=a[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(d)},i=self["webpackChunkinteractive_art_ui"]=self["webpackChunkinteractive_art_ui"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(9694)}));i=n.O(i)})();
//# sourceMappingURL=app.91c1f4f5.js.map